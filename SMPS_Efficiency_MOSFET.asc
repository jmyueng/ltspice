Version 4
SHEET 1 1944 1620
WIRE 800 -608 544 -608
WIRE 1088 -608 800 -608
WIRE 1232 -608 1184 -608
WIRE 1280 -608 1232 -608
WIRE 1408 -608 1280 -608
WIRE 1728 -608 1488 -608
WIRE 1760 -608 1728 -608
WIRE 1856 -608 1760 -608
WIRE 800 -496 800 -608
WIRE 1760 -496 1760 -608
WIRE 1856 -496 1856 -608
WIRE 544 -480 544 -608
WIRE 1280 -480 1280 -608
WIRE 1040 -464 1008 -464
WIRE 1104 -464 1104 -560
WIRE 1104 -464 1040 -464
WIRE 1088 -400 1056 -400
WIRE 1232 -400 1088 -400
WIRE 544 -288 544 -400
WIRE 800 -288 800 -432
WIRE 800 -288 544 -288
WIRE 1280 -288 1280 -384
WIRE 1280 -288 800 -288
WIRE 1760 -288 1760 -432
WIRE 1760 -288 1280 -288
WIRE 1856 -288 1856 -416
WIRE 1856 -288 1760 -288
WIRE 1280 -256 1280 -288
WIRE 368 128 304 128
WIRE 384 128 368 128
WIRE 256 144 32 144
WIRE 528 144 496 144
WIRE 32 256 32 144
WIRE 256 272 256 192
WIRE 304 272 304 208
WIRE 304 272 256 272
WIRE 496 320 496 144
WIRE 32 400 32 336
WIRE 304 400 304 272
WIRE 304 400 32 400
WIRE 496 400 304 400
WIRE 32 416 32 400
FLAG 32 416 0
FLAG 368 128 V1
FLAG 496 144 V2
FLAG 1280 -256 0
FLAG 1040 -464 V1
FLAG 1088 -400 V2
FLAG 1232 -608 sw
FLAG 800 -608 Vin
FLAG 1728 -608 Vo
DATAFLAG 192 1584 "$"
SYMBOL voltage 32 240 R0
SYMATTR InstName V1
SYMATTR Value PULSE(0 1 0 10n 10n 380n 500n)
SYMBOL voltage 496 304 R0
WINDOW 3 74 54 Left 2
SYMATTR Value PULSE(0 5 30n 10n 10n 300n 500n)
SYMATTR InstName V2
SYMBOL e 304 112 R0
SYMATTR InstName E1
SYMATTR Value 5
SYMBOL pmos 1184 -560 M270
SYMATTR InstName M1
SYMATTR Value FDS4953
SYMBOL nmos 1232 -480 R0
SYMATTR InstName M2
SYMATTR Value FDS6961A
SYMBOL voltage 544 -496 R0
SYMATTR InstName V3
SYMATTR Value 3.6V
SYMATTR SpiceLine Rser=0.01
SYMBOL ind 1392 -592 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 4.7µ
SYMATTR SpiceLine Ipk=950m Rser=80m Rpar=infin. Cpar=0 mfg="Murata" pn="1226AS-H-4R7M=P2"
SYMBOL res 1840 -512 R0
SYMATTR InstName R1
SYMATTR Value 40
SYMBOL cap 1744 -496 R0
SYMATTR InstName C1
SYMATTR Value 10µ
SYMATTR SpiceLine Rser=5m Lser=1n Rpar=1e9 Cpar=0 mfg="   ---" pn="   ---" type="   ---"
SYMBOL cap 784 -496 R0
SYMATTR InstName C2
SYMATTR Value 10µ
SYMATTR SpiceLine Rser=5m Lser=1n Rpar=1e9 Cpar=0 mfg="   ---" pn="   ---" type="   ---"
TEXT 408 504 Left 2 !.tran 2m\n.param t1 = 1.5m\n.param t2 = 2m\n.meas tran Esrc  INTEG (-I(V3)*V(vin)) FROM {t1} TO {t2}\n.meas tran Psrc2 PARAM  Esrc/(t2-t1)\n.meas tran PgdH AVG (-I(v1)*V(v1)) FROM {t1} TO {t2}\n.meas tran PgdL AVG (-I(v2)*V(v2)) FROM {t1} TO {t2}\n.meas TRAN psrc param psrc2+pgdh+pgdl\n.meas tran PM2 AVG -IS(m2)*V(sw) from {t1} to {t2}\n.meas tran PL_avg AVG (I(L1)*V(sw,vo)) from {t1} to {t2}\n.meas tran PC1 AVG I(C1)*V(vo) from {t1} to {t2}\n.meas tran PR_avg AVG I(R1)*V(vo) from {t1} to {t2}\n.meas tran PM1 AVG id(M1)*v(sw,vin) from {t1} to {t2}\n.meas tran PC2 AVG -I(C2)*V(vin) from {t1} to {t2}\n.meas tran P_sum PARAM PL_avg+PC1+PC2+PR_avg+PM1+PM2\n.meas tran efficiency param PR_avg/psrc

Version 4.1
SHEET 1 2380 1628
WIRE 1104 -736 976 -736
WIRE 1296 -736 1168 -736
WIRE 800 -608 544 -608
WIRE 976 -608 976 -736
WIRE 976 -608 800 -608
WIRE 1104 -608 976 -608
WIRE 1232 -608 1184 -608
WIRE 1280 -608 1232 -608
WIRE 1296 -608 1296 -736
WIRE 1296 -608 1280 -608
WIRE 1408 -608 1296 -608
WIRE 1728 -608 1488 -608
WIRE 1760 -608 1728 -608
WIRE 1856 -608 1760 -608
WIRE 1168 -528 1168 -560
WIRE 1168 -528 1104 -528
WIRE 800 -496 800 -608
WIRE 1280 -496 1280 -608
WIRE 1440 -496 1280 -496
WIRE 1760 -496 1760 -608
WIRE 1856 -496 1856 -608
WIRE 544 -480 544 -608
WIRE 1280 -480 1280 -496
WIRE 1040 -464 1008 -464
WIRE 1104 -464 1104 -528
WIRE 1104 -464 1040 -464
WIRE 1120 -464 1120 -560
WIRE 1168 -464 1120 -464
WIRE 1232 -464 1168 -464
WIRE 1232 -416 1200 -416
WIRE 1024 -400 928 -400
WIRE 1088 -400 1024 -400
WIRE 1200 -400 1200 -416
WIRE 1200 -400 1088 -400
WIRE 928 -384 928 -400
WIRE 544 -288 544 -400
WIRE 800 -288 800 -432
WIRE 800 -288 544 -288
WIRE 928 -288 928 -304
WIRE 928 -288 800 -288
WIRE 1168 -288 1168 -464
WIRE 1168 -288 928 -288
WIRE 1280 -288 1280 -400
WIRE 1280 -288 1168 -288
WIRE 1440 -288 1440 -432
WIRE 1440 -288 1280 -288
WIRE 1760 -288 1760 -432
WIRE 1760 -288 1440 -288
WIRE 1856 -288 1856 -416
WIRE 1856 -288 1760 -288
WIRE 1280 -256 1280 -288
WIRE 1024 -16 1024 -400
WIRE 976 0 800 0
WIRE 976 48 912 48
WIRE 912 112 912 48
WIRE 1328 112 912 112
WIRE 800 128 800 0
WIRE 1216 128 800 128
WIRE 128 144 32 144
WIRE 256 144 128 144
WIRE 1024 144 1024 64
WIRE 1024 144 496 144
WIRE 1328 224 1328 112
WIRE 32 256 32 144
WIRE 496 320 496 144
WIRE 32 400 32 336
WIRE 496 400 32 400
WIRE 1216 400 1216 128
WIRE 1216 400 496 400
WIRE 1328 400 1328 304
WIRE 1328 400 1216 400
WIRE 32 416 32 400
FLAG 32 416 0
FLAG 128 144 V1
FLAG 496 144 V2x
FLAG 1280 -256 0
FLAG 1040 -464 V1
FLAG 1088 -400 V2
FLAG 1232 -608 sw
FLAG 800 -608 Vin
FLAG 1728 -608 Vo
SYMBOL voltage 32 240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
WINDOW 3 -269 208 Left 2
SYMATTR InstName V1
SYMATTR Value PULSE(1 0 0 1n 1n {period-ontime} {period})
SYMBOL voltage 496 304 R0
WINDOW 3 -126 149 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 1 1n 1n 1n {period-1n-ontime} {period})
SYMATTR InstName V2
SYMBOL voltage 544 -496 R0
WINDOW 123 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value 3.8V
SYMATTR SpiceLine Rser=0.1
SYMBOL ind 1392 -592 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName L1
SYMATTR Value 2.2µ
SYMATTR SpiceLine Ipk=0.6 Rser=0.20 Rpar=0 Cpar=0
SYMBOL res 1840 -512 R0
SYMATTR InstName R1
SYMATTR Value 40
SYMBOL cap 1744 -496 R0
SYMATTR InstName C1
SYMATTR Value 10µ
SYMATTR SpiceLine V=16 Irms=0 Rser=0.01 Lser=0.5n Rpar=1e9 Cpar=0
SYMBOL cap 784 -496 R0
SYMATTR InstName C2
SYMATTR Value 10µ
SYMATTR SpiceLine V=10 Irms=0 Rser=0.0037 Lser=501p Rpar=1e9 Cpar=0 mfg="Würth Elektronik" pn="885012207026 WCAP-CSGP 0805" type="X7R"
SYMBOL sw 1088 -608 R270
SYMATTR InstName S1
SYMATTR Value SW1
SYMBOL sw 1280 -496 R0
SYMATTR InstName S2
SYMATTR Value SW2
SYMBOL diode 1456 -432 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value 1N914
SYMBOL diode 1168 -752 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D2
SYMATTR Value 1N914
SYMBOL sw 1024 -32 R0
SYMATTR InstName S3
SYMATTR Value SW3
SYMBOL voltage 1328 208 R0
WINDOW 3 -283 251 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(1 0 {period-ontime-idletime} 1n 1n {ontime+idletime} {period})
SYMATTR InstName V4
SYMBOL res 912 -400 R0
SYMATTR InstName R2
SYMATTR Value 100
TEXT 1456 160 Left 2 !.tran 2m\n.param t1 = 1.5m\n.param t2 = 2m\n.meas tran PL_avg AVG (I(L1)*V(sw,vo)) from {t1} to {t2}\n.meas tran PR_avg AVG I(R1)*V(vo) from {t1} to {t2}\n.meas tran P_sum AVG I(V3)*V(vin) from {t1} to {t2}\n.meas tran efficiency param PR_avg/P_sum
TEXT -24 -128 Left 2 ;V2 slower 1ns for avoiding shoot throught\nIdle time needed for avoid L1 working in negtive current situation\nWhich is acting as zero current switching off for the low side FET
TEXT 1096 -160 Left 2 !.model SW1 SW(Ron=0.5 Roff=1Meg Vt=.5 Vh=-.5)\n.model SW2 SW(Ron=0.1 Roff=1Meg Vt=.5 Vh=-.5)\n.model SW3 SW(Ron=0.1 Roff=1Meg Vt=.5 Vh=-.5)
TEXT 1192 0 Left 2 !.param ontime=240n\n.param period=820n\n.param Idletime=400ns
